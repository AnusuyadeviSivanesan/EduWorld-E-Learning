<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTFâ€‘8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Register | EduWorld</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
   body {
      font-family: 'Lucida Sans', sans-serif !important;
      background-image: var(--body-color);
      background-attachment: fixed;
    }

    :root{
      --body-color: linear-gradient(rgb(214, 238, 238), rgb(102, 165, 165));
      --nav-bg:  rgba(255,255,255,0.4);
      --a-text-color: black;
      --bg-white: white;
      --text: black;
      --heading-text-color: black;
    }

    .dark-theme {
      --body-color: linear-gradient(rgb(202, 253, 155), rgb(214, 210, 210));
      --nav-bg: rgba(8, 46, 90, 0.4);
      --a-text-color: white;
      --bg-white: #121212;
      --text: white;
      --heading-text-color: lightblue;
    }
     

    .navBarTop {
      background-color: var(--nav-bg);
      box-shadow: 2px 2px 5px 2px rgba(0, 0, 0, 0.2);
      margin-left: 1rem;
      margin-right: 1rem;
      border-radius: 0.5rem;
    }

    .navBar a{
      color: var(--a-text-color) !important;
    }

    .RegisterForm {
      background-color: var(--bg-white);
      color: black;
    }

    .RegisterForm h3 {
      color: var(--heading-text-color);
    }

    .RegisterForm label,p {
      color: var(--text);
    }


  </style>
</head>
<body dark-theme>


  <!-- NAv bar -->
  
    <div class="navBarTop">
        <nav>
            <div class="navBar d-flex flex-row align-items-center justify-content-between px-3  rounded m-1 m-md-3">
                <!-- profile Icon -->
                <div class="d-flex flex-row p-2 pt-3">
                    <a href="index.html" class="text-decoration-none text-black fw-bold fs-4">
                        <h4>EduWorld!</h4>
                    </a>
                </div>

                <!-- nav options -->
                <div class="options d-flex flex-row align-items-center justify-content-evenly ">
                    <div class="form-check form-switch px-2">
                        <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" onclick="darkmode()">
                    </div>
                </div>

            </div>
        </nav>
    </div>


    <!-- Login Form  -->

  <div class="container d-flex justify-content-center align-items-center ">
    <div class="RegisterForm  px-3 pt-2 rounded shadow" style="width: 100%; max-width: 400px;">
      <h3 class="text-center mb-2">Register</h3>
      <form id="registerForm" novalidate>
        <div class="mb-1">
          <label for="emailId" class="form-label">Email Id</label>
          <input type="email" class="form-control" id="emailId" placeholder="Enter Email" required />
        </div>
        <div class="mb-1">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control" id="username" placeholder="Enter Username" required />
        </div>
        <div class="mb-1">
          <label for="fullname" class="form-label">Full Name</label>
          <input type="text" class="form-control" id="fullname" placeholder="Enter Full Name" required />
        </div>
        <div class="mb-1">
          <label for="newPassword" class="form-label">Password</label>
          <input type="password" class="form-control" id="newPassword" placeholder="Enter Password" required />
        </div>
        <div class="mb-1">
          <label for="confirmPassword" class="form-label">Confirm Password</label>
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            placeholder="Confirm Password"
            required
          />
        </div>
        <button type="submit" class="btn btn-warning w-100">Register</button>
        <p class="mt-3 text-center">
          Already have an account?
          <a href="login.html" class="link-warning">Login here!</a>
        </p>
      </form>
    </div>
  </div>

  <script>
    document.getElementById('registerForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const email = document.getElementById('emailId').value.trim();
      const username = document.getElementById('username').value.trim();
      const fullname = document.getElementById('fullname').value.trim();
      const pwd = document.getElementById('newPassword').value.trim();
      const cpwd = document.getElementById('confirmPassword').value.trim();

      if (!email || !email.includes('@') || !username || !fullname || !pwd || pwd !== cpwd) {
        alert('Please ensure all fields are valid and passwords match.');
        return;
      }

      const users = JSON.parse(localStorage.getItem('registeredUsers')) || [];
      if (users.some(u => u.email === email)) {
        alert('This email is already registered. Please login instead.');
        return;
      }

      users.push({ email, username, fullname, password: pwd });
      localStorage.setItem('registeredUsers', JSON.stringify(users));

      alert('Registration successful! Redirecting to login...');
      window.location.href = 'login.html';
    });



    
    //Toggle dark mode
     function darkmode(){
    document.body.classList.toggle("dark-theme");
 }

  </script>
</body>
</html>
